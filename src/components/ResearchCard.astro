---
interface Props {
  title: string;
  venue: string;
  year: string;
  type: "publication" | "poster" | "ongoing";
  link?: string;
  coauthors?: string;
}

const { title, venue, year, type, link, coauthors } = Astro.props;

const typeColors = {
  publication: "bg-green-500/10 text-green-400 border-green-500/20",
  poster: "bg-blue-500/10 text-blue-400 border-blue-500/20",
  ongoing: "bg-yellow-500/10 text-yellow-400 border-yellow-500/20",
};

const typeLabels = {
  publication: "Publication",
  poster: "Poster",
  ongoing: "In Progress",
};
---

<div class="p-5 rounded-lg bg-white/[0.02] border border-white/[0.05] hover:bg-white/[0.04] transition-all duration-300">
  <div class="flex items-start justify-between gap-4">
    <div class="flex-1">
      {link ? (
        <a href={link} target="_blank" rel="noopener noreferrer" class="group">
          <h4 class="text-base font-medium text-grayblue-100 group-hover:text-grayblue-50 transition-colors">
            {title}
            <span class="inline-block ml-1 opacity-0 group-hover:opacity-100 transition-opacity">↗</span>
          </h4>
        </a>
      ) : (
        <h4 class="text-base font-medium text-grayblue-100">{title}</h4>
      )}
      {coauthors && (
        <p class="mt-1 text-xs text-grayblue-500">{coauthors}</p>
      )}
      <p class="mt-2 text-sm text-grayblue-400">
        {venue} · {year}
      </p>
    </div>
    <span class={`px-2 py-1 text-xs rounded-full border ${typeColors[type]}`}>
      {typeLabels[type]}
    </span>
  </div>
</div>
